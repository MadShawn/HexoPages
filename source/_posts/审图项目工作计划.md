---
title: 审图项目工作计划
date: 2017-10-25 14:18:03
tags: 工作计划
---

## 前言
接到一个审图的项目，功能较小，打算我们包揽前后端以及数据库，这里列一下大体的工作安排和计划。

## 时间和资源
+ 时间  
设计3天，10月27日出设计  
开发3周，10.30-11.17
+ 人员  
两个人：wz，ll

## 工作计划
### 设计
+ 负责人： cx

#### 技术选型
1. 前端框架  
vue
2. 地图组件  
mapbox-gl
3. 服务框架  
nodejs-express

#### 功能设计
1. 用户登录
2. 用户分角色控制，两种角色：管理员和普通用户
3. 项目列表/卡片
4. 实时地图数据查看
5. 问题的增删改
6. 问题列表，以及逐条查看
7. 问题录入支持照片、视频的上传，以及查看
8. 截图（这里的截图是指的对当前浏览的地图进行截图吗？）保存
9. 问题支持指定给具体的人进行查看（能编辑吗）
10. 问题录入保存时，要记录地图的中心点（或者用户指定点/区域），以及缩放等级，一遍查看时对应定位地图
11. 问题要分用户存储，即要记录创建用户
12. 如果在地图上需要手绘图形，可以用jquery的wPaint、Zwibbler等插件

> 疑问：  
>  1. 角色对项目、问题的权限如何控制？
>  2. 问题的编辑权限怎么控制？谁创建谁能编辑吗？
>  3. 问题指定给特定人查看，能编辑吗？
>  4. 截图指的什么，对当前查看的地图进行截图？提供截图功能？
>  5. 问题的查看权限怎么控制，即那些人能查看那些问题？

#### 数据库设计
+ 管理表
  1. 用户信息表 （用户，登录token，登录状态）
  2. 角色信息表
  3. 权限信息表
  4. 用户角色关系表
  5. 角色权限关系表
  6. 日志表？

+ 业务表
  1. 项目信息表
  2. 问题信息表(指派给的人，以json数组形式存储在此表)
  3. 问题附件表

#### 接口设计
1. 登录接口（om/login）（返回用户信息、角色、权限等）
2. 项目列表接口（task/list）
3. 项目详情接口（task/query）
4. 问题列表接口（issue/list）
5. 问题详情接口（issue/query）
6. 问题保存接口（issue/create）
7. 问题修改接口（issue/update）
8. 问题删除接口（issue/delete）
9. 附件上传接口（file/upload）
10. 附件下载接口（file/download）？看是否需要下载，还是直接页面播放？

### 开发
#### 第一周
1. 前后端开发框架搭建；
2. 实现用户登录，web+服务
3. 实现项目列表，web+服务

#### 第二周
1. 地图加载
2. 问题列表
3. 问题的增删改
4. 问题查看的权限控制
5. 问题逐条浏览（上下一条的控制）

#### 第三周
1. 遗留问题的处理
2. 用户试用，并提出改善
3. 对应用户提的改善问题
